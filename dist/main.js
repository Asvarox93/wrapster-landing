"use strict";function showBookeroCategory(o){var e=setInterval(function(){$("#bookero_form_service").length>0&&($.each($("#bookero_form_service optgroup"),function(){-1==$(this).prop("label").indexOf(o)&&($(this).hide(),reloadCalendar())}),clearInterval(e))},500)}function reloadCalendar(){if($("#bookero_form_service option[value='3468']").hide(),$("#bookero_form_service option[value='2707']").prop("selected",!0),"createEvent"in document){var o=document.createEvent("HTMLEvents");o.initEvent("change",!1,!0),document.getElementById("bookero_form_service").dispatchEvent(o)}else document.getElementById("bookero_form_service").fireEvent("onchange")}var bookero_id="dbr1cw2YIlpZ",bookero_container="bookero",bookero_type="calendar",bookero_position="",bookero_plugin_css=!0,bookero_lang="pl",bookero_scripts=document.createElement("script");bookero_scripts.setAttribute("type","text/javascript"),bookero_scripts.setAttribute("src","https://www.bookero.pl/plugin/js/bookero-compiled.js"),document.body.appendChild(bookero_scripts),showBookeroCategory("Szkolenia i warsztaty");
"use strict";
"use strict";
"use strict";$.fn.easeScroll=function(e){!function(){function t(){m.keyboardSupport&&!0&&l("keydown",r)}function a(){if(document.body){var e=document.body,a=document.documentElement,o=window.innerHeight,r=e.scrollHeight;if(v=document.compatMode.indexOf("CSS")>=0?a:e,d=e,t(),b=!0,top!=self)w=!0;else if(r>o&&(e.offsetHeight<=o||a.offsetHeight<=o)){var n=!1;if(a.style.height="auto",setTimeout(function(){n||a.scrollHeight==document.height||(n=!0,setTimeout(function(){a.style.height=document.height+"px",n=!1},100))},10),v.offsetHeight<=o){var i=document.createElement("div");i.style.clear="both",e.appendChild(i)}}m.fixedBackground||h||(e.style.backgroundAttachment="scroll",a.style.backgroundAttachment="scroll")}}function o(e,t,a,o){if(o||(o=1e3),function(e,t){e=e>0?1:-1,t=t>0?1:-1,(g.x!==e||g.y!==t)&&(g.x=e,g.y=t,k=[],D=0)}(t,a),1!=m.accelerationMax){var r=+new Date-D;if(r<m.accelerationDelta){var n=(1+30/r)/2;n>1&&(n=Math.min(n,m.accelerationMax),t*=n,a*=n)}D=+new Date}if(k.push({x:t,y:a,lastX:0>t?.99:-.99,lastY:0>a?.99:-.99,start:+new Date}),!x){var i=e===document.body;z(function r(){for(var n=+new Date,l=0,c=0,u=0;u<k.length;u++){var d=k[u],p=n-d.start,f=p>=m.animationTime,h=f?1:p/m.animationTime;m.pulseAlgorithm&&(h=function(e){return e>=1?1:0>=e?0:(1==m.pulseNormalize&&(m.pulseNormalize/=s(1)),s(e))}(h));var w=d.x*h-d.lastX>>0,g=d.y*h-d.lastY>>0;l+=w,c+=g,d.lastX+=w,d.lastY+=g,f&&(k.splice(u,1),u--)}i?window.scrollBy(l,c):(l&&(e.scrollLeft+=l),c&&(e.scrollTop+=c)),t||a||(k=[]),k.length?z(r,e,o/m.frameRate+1):x=!1},e,0),x=!0}}function r(e){var t=e.target,a=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==S.spacebar;if(/input|textarea|select|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||a)return!0;if(c(t,"button")&&e.keyCode===S.spacebar)return!0;var r=0,n=0,l=i(d),u=l.clientHeight;switch(l==document.body&&(u=window.innerHeight),e.keyCode){case S.up:n=-m.arrowScroll;break;case S.down:n=m.arrowScroll;break;case S.spacebar:n=-(e.shiftKey?1:-1)*u*.9;break;case S.pageup:n=.9*-u;break;case S.pagedown:n=.9*u;break;case S.home:n=-l.scrollTop;break;case S.end:var s=l.scrollHeight-l.scrollTop-u;n=s>0?s+10:0;break;case S.left:r=-m.arrowScroll;break;case S.right:r=m.arrowScroll;break;default:return!0}o(l,r,n),e.preventDefault()}function n(e,t){for(var a=e.length;a--;)M[T(e[a])]=t;return t}function i(e){var t=[],a=v.scrollHeight;do{var o=M[T(e)];if(o)return n(t,o);if(t.push(e),a===e.scrollHeight&&(!w||v.clientHeight+70<a))return n(t,document.body)}while(e=e.parentNode)}function l(e,t,a){window.addEventListener(e,t,a||!1)}function c(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function u(e,t){return Math.floor(e/t)==e/t}function s(e){var t,a,o;return 1>(e*=m.pulseScale)?t=e-(1-Math.exp(-e)):(a=Math.exp(-1),e-=1,o=1-Math.exp(-e),t=a+o*(1-a)),t*m.pulseNormalize}var d,p=$.extend({frameRate:60,animationTime:1e3,stepSize:120,pulseAlgorithm:!0,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0},e),f={frameRate:p.frameRate,animationTime:p.animationTime,stepSize:p.stepSize,pulseAlgorithm:p.pulseAlgorithm,pulseScale:p.pulseScale,pulseNormalize:p.pulseNormalize,accelerationDelta:p.accelerationDelta,accelerationMax:p.accelerationMax,keyboardSupport:p.keyboardSupport,arrowScroll:p.arrowScroll,touchpadSupport:p.touchpadSupport,fixedBackground:p.fixedBackground,excluded:""},m=f,h=!1,w=!1,g={x:0,y:0},b=!1,v=document.documentElement,y=[120,120,120],S={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},m=f,k=[],x=!1,D=+new Date,M={};setInterval(function(){M={}},1e4);var H,T=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}(),z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,a){window.setTimeout(e,a||1e3/60)},A=/chrome|iPad/i.test(window.navigator.userAgent);"onmousewheel"in document&&A&&(l("mousedown",function(e){d=e.target}),l("mousewheel",function(e){b||a();var t=e.target,r=i(t);if(!r||e.defaultPrevented||c(d,"embed")||c(t,"embed")&&/\.pdf/i.test(t.src))return!0;var n=e.wheelDeltaX||0,l=e.wheelDeltaY||0;return n||l||(l=e.wheelDelta||0),!(m.touchpadSupport||!function(e){if(e){e=Math.abs(e),y.push(e),y.shift(),clearTimeout(H);var t=y[0]==y[1]&&y[1]==y[2],a=u(y[0],120)&&u(y[1],120)&&u(y[2],120);return!(t||a)}}(l))||(Math.abs(n)>1.2&&(n*=m.stepSize/120),Math.abs(l)>1.2&&(l*=m.stepSize/120),o(r,-n,-l),void e.preventDefault())}),l("load",a))}()},$("html").easeScroll();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGVuZGFyLmpzIiwiZm9vdGVyLmpzIiwiaGVhZGVyLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJib29rZXJvX2ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCIkIiwibGFiZWwiLCJsZW5ndGgiLCJlYWNoIiwicmVsb2FkQ2FsZW5kYXIiLCJ0aGlzIiwicHJvcCIsImhpZGUiLCJjbGVhckludGVydmFsIiwiZG9jdW1lbnQiLCJldnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInNob3dCb29rZXJvQ2F0ZWdvcnkiLCJmaXJlRXZlbnQiLCJib29rZXJvX2lkIiwiYm9va2Vyb19jb250YWluZXIiLCJib29rZXJvX3R5cGUiLCJib29rZXJvX3Bvc2l0aW9uIiwiYm9va2Vyb19sYW5nIiwiY3JlYXRlRWxlbWVudCIsImJvb2tlcm9fc2NyaXB0cyIsInNldEF0dHJpYnV0ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImZuIiwiZWFzZVNjcm9sbCIsIm9wdGlvbnMiLCJlIiwidiIsImtleWJvYXJkU3VwcG9ydCIsInUiLCJyIiwidCIsImRvY3VtZW50RWxlbWVudCIsIm8iLCJuIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbmRleE9mIiwidyIsIngiLCJ0b3AiLCJzZWxmIiwieSIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsIlMiLCJzdHlsZSIsImhlaWdodCIsInNldFRpbWVvdXQiLCJhIiwibCIsImZpeGVkQmFja2dyb3VuZCIsImIiLCJiYWNrZ3JvdW5kQXR0YWNobWVudCIsIm5vZGVOYW1lIiwiayIsIk0iLCJDIiwiZCIsImFjY2VsZXJhdGlvbk1heCIsIkRhdGUiLCJhY2NlbGVyYXRpb25EZWx0YSIsImkiLCJNYXRoIiwibWluIiwicHVzaCIsImxhc3RYIiwibGFzdFkiLCJzdGFydCIsIkUiLCJjIiwicyIsImFuaW1hdGlvblRpbWUiLCJoIiwicHVsc2VOb3JtYWxpemUiLCJtIiwicHVsc2VBbGdvcml0aG0iLCJmIiwic3BsaWNlIiwic2Nyb2xsQnkiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiZnJhbWVSYXRlIiwiVCIsInRhcmdldCIsImFsdEtleSIsIm1ldGFLZXkiLCJzaGlmdEtleSIsImtleUNvZGUiLCJIIiwic3BhY2ViYXIiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInRlc3QiLCJjbGllbnRIZWlnaHQiLCJhcnJvd1Njcm9sbCIsImVuZCIsInByZXZlbnREZWZhdWx0IiwieiIsIk4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvTG93ZXJDYXNlIiwiZmxvb3IiLCJwdWxzZVNjYWxlIiwiZXhwIiwic2V0dGluZ3MiLCJleHRlbmQiLCJzdGVwU2l6ZSIsImciLCJ0b3VjaHBhZFN1cHBvcnQiLCJleGNsdWRlZCIsImxlZnQiLCJyaWdodCIsImRvd24iLCJwYWdldXAiLCJwYWdlZG93biIsImhvbWUiLCJ1bmlxdWVJRCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJzcmMiLCJ3aGVlbERlbHRhWCIsIndoZWVsRGVsdGFZIiwid2hlZWxEZWx0YSIsImFicyIsIkQiLCJzaGlmdCIsImNsZWFyVGltZW91dCIsIkEiXSwibWFwcGluZ3MiOiJhQWdCRSxTQUFJQSxvQkFDRkMsR0FDRSxJQUFBRCxFQUNFRSxZQUFTLFdBQ1BBLEVBQUlDLHlCQUFxQkMsT0FBekIsSUFDQUYsRUFBQUcsS0FBSUYsRUFBQUEsa0NBQStCLFlBRWpDRyxHQURBSixFQUFBSyxNQUFBQyxLQUFBLFNBQ0FGLFFBQUFBLEtBQ0RKLEVBQUFLLE1BQUFFLE9BTEhILG9CQVdQSSxjQUFBVixLQUVELEtBR0UsU0FBSU0saUJBR0ZLLEdBRkFULEVBQUEsOENBQUFPLE9BQ0FHLEVBQUFBLDhDQUFBSixLQUFBLFlBQUEsR0FDQUcsZ0JBQVNFLFNBQWUsQ0FIMUIsSUFBQUQsRUFL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QkFBQW5ELEVBQUFqQyxFQUFBLFVBQUFpQyxFQUFBckMsRUFBQSxVQUFBLFNBQUEwRCxLQUFBMUQsRUFBQXlGLEtBQUEsT0FBQSxFQUVBLElBQUkxRSxFQUFBdkIsRUFBTUEsYUFBRWdHLEVBQ1J6RSxFQUFJdkIsRUFBRWtHLGFBQWUsRUFBekIsT0FDSTlELEdBQU0rRCxJQUFBQSxFQUFGbkcsRUFBQW9HLFlBRFIsS0FBQW5HLEVBQUFrRixrQkFtRkFuRixTQUFJQSxHQUNQLEdBQUFBLEVBQUEsQ0FJT0EsRUFBSXFDLEtBQUtnRSxJQUFJckcsR0FBSXNHLEVBQUUvRCxLQUFLdkMsR0FBSXNHLEVBQUVDLFFBQVNDLGFBQWFDLEdBRjVELElBQUFwRyxFQUFjaUcsRUFBQSxJQUFBQSxFQUFBLElBQUFBLEVBQUEsSUFBQUEsRUFBQSxHQUNIL0YsRUFBQXdDLEVBQUF1RCxFQUFBLEdBQUEsTUFBQXZELEVBQUF1RCxFQUFBLEdBQUEsTUFBQXZELEVBQUF1RCxFQUFBLEdBQUEsS0FDSHRHLFFBQVNxRyxHQUFMOUYsSUF4RlI0QyxDQUFBZixNQUFBQyxLQUFBZ0UsSUFBQTlFLEdBQUEsTUFBQUEsR0FBQXRCLEVBQUFnRixTQUFBLEtBQUE1QyxLQUFBZ0UsSUFBQWpFLEdBQUEsTUFBQUEsR0FBQW5DLEVBQUFnRixTQUFBLEtBQUExRSxFQUFBSCxHQUFBbUIsR0FBQWEsUUFBQXBDLEVBQUFzRSxvQkFnTFFuRSxFQUFBLE9BQUFFLElBdlBwQixJQStPUWxDLEVBQUEsUUFBQTJCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYm9va2Vyb19pZCA9IFwiZGJyMWN3MllJbHBaXCI7XHJcbnZhciBib29rZXJvX2NvbnRhaW5lciA9IFwiYm9va2Vyb1wiO1xyXG52YXIgYm9va2Vyb190eXBlID0gXCJjYWxlbmRhclwiO1xyXG52YXIgYm9va2Vyb19wb3NpdGlvbiA9IFwiXCI7XHJcbnZhciBib29rZXJvX3BsdWdpbl9jc3MgPSB0cnVlO1xyXG52YXIgYm9va2Vyb19sYW5nID0gXCJwbFwiO1xyXG5cclxudmFyIGJvb2tlcm9fc2NyaXB0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbmJvb2tlcm9fc2NyaXB0cy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9qYXZhc2NyaXB0XCIpO1xyXG5ib29rZXJvX3NjcmlwdHMuc2V0QXR0cmlidXRlKFxyXG4gIFwic3JjXCIsXHJcbiAgXCJodHRwczovL3d3dy5ib29rZXJvLnBsL3BsdWdpbi9qcy9ib29rZXJvLWNvbXBpbGVkLmpzXCJcclxuKTtcclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChib29rZXJvX3NjcmlwdHMpO1xyXG5cclxuZnVuY3Rpb24gc2hvd0Jvb2tlcm9DYXRlZ29yeShjYXRlZ29yeSkge1xyXG4gIHZhciBib29rZXJvX2ludGVydmFsID1cclxuICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQoJyNib29rZXJvX2Zvcm1fc2VydmljZScpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAkLmVhY2goJCgnI2Jvb2tlcm9fZm9ybV9zZXJ2aWNlIG9wdGdyb3VwJyksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBsYWJlbCA9ICQodGhpcykucHJvcCgnbGFiZWwnKTtcclxuICAgICAgICAgIGlmIChsYWJlbC5pbmRleE9mKGNhdGVnb3J5KSA9PSAtMSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgcmVsb2FkQ2FsZW5kYXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjbGVhckludGVydmFsKGJvb2tlcm9faW50ZXJ2YWwpO1xyXG4gICAgICB9XHJcbiAgICB9LCA1MDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWxvYWRDYWxlbmRhcigpIHtcclxuICAkKFwiI2Jvb2tlcm9fZm9ybV9zZXJ2aWNlIG9wdGlvblt2YWx1ZT0nMzQ2OCddXCIpLmhpZGUoKTtcclxuICAkKFwiI2Jvb2tlcm9fZm9ybV9zZXJ2aWNlIG9wdGlvblt2YWx1ZT0nMjcwNyddXCIpLnByb3AoXCJzZWxlY3RlZFwiLCB0cnVlKTtcclxuICBpZiAoXCJjcmVhdGVFdmVudFwiIGluIGRvY3VtZW50KSB7XHJcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpO1xyXG4gICAgZXZ0LmluaXRFdmVudChcImNoYW5nZVwiLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9va2Vyb19mb3JtX3NlcnZpY2UnKS5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jvb2tlcm9fZm9ybV9zZXJ2aWNlJykuZmlyZUV2ZW50KFwib25jaGFuZ2VcIik7XHJcbiAgfVxyXG59XHJcblxyXG5zaG93Qm9va2Vyb0NhdGVnb3J5KCdTemtvbGVuaWEgaSB3YXJzenRhdHknKTtcclxuXHJcbiIsIlwidXNlIHN0cmljdFwiOyIsIlwidXNlIHN0cmljdFwiOyIsIi8vU21vb3RoV2hlZWwgc2Nyb2xsXHJcbiQuZm4uZWFzZVNjcm9sbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAhIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBlKCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9ICExO1xyXG4gICAgICAgICAgICBlICYmIGMoXCJrZXlkb3duXCIsIHIpLCB2LmtleWJvYXJkU3VwcG9ydCAmJiAhZSAmJiB1KFwia2V5ZG93blwiLCByKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdCgpIHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgICAgICAgICAgICBvID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIG4gPSB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgciA9IHQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaWYgKFMgPSBkb2N1bWVudC5jb21wYXRNb2RlLmluZGV4T2YoXCJDU1NcIikgPj0gMCA/IG8gOiB0LCB3ID0gdCwgZSgpLCB4ID0gITAsIHRvcCAhPSBzZWxmKSB5ID0gITA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyID4gbiAmJiAodC5vZmZzZXRIZWlnaHQgPD0gbiB8fCBvLm9mZnNldEhlaWdodCA8PSBuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gITEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIHx8IG8uc2Nyb2xsSGVpZ2h0ID09IGRvY3VtZW50LmhlaWdodCB8fCAoYSA9ICEwLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmhlaWdodCArIFwicHhcIiwgYSA9ICExXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiLCBzZXRUaW1lb3V0KGksIDEwKSwgUy5vZmZzZXRIZWlnaHQgPD0gbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGwuc3R5bGUuY2xlYXIgPSBcImJvdGhcIiwgdC5hcHBlbmRDaGlsZChsKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHYuZml4ZWRCYWNrZ3JvdW5kIHx8IGIgfHwgKHQuc3R5bGUuYmFja2dyb3VuZEF0dGFjaG1lbnQgPSBcInNjcm9sbFwiLCBvLnN0eWxlLmJhY2tncm91bmRBdHRhY2htZW50ID0gXCJzY3JvbGxcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbyhlLCB0LCBvLCBuKSB7XHJcbiAgICAgICAgICAgIGlmIChuIHx8IChuID0gMWUzKSwgZCh0LCBvKSwgMSAhPSB2LmFjY2VsZXJhdGlvbk1heCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSArbmV3IERhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgYSA9IHIgLSBDO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPCB2LmFjY2VsZXJhdGlvbkRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAoMSArIDMwIC8gYSkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgPiAxICYmIChpID0gTWF0aC5taW4oaSwgdi5hY2NlbGVyYXRpb25NYXgpLCB0ICo9IGksIG8gKj0gaSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEMgPSArbmV3IERhdGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoTS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IHQsXHJcbiAgICAgICAgICAgICAgICB5OiBvLFxyXG4gICAgICAgICAgICAgICAgbGFzdFg6IDAgPiB0ID8gLjk5IDogLS45OSxcclxuICAgICAgICAgICAgICAgIGxhc3RZOiAwID4gbyA/IC45OSA6IC0uOTksXHJcbiAgICAgICAgICAgICAgICBzdGFydDogK25ldyBEYXRlXHJcbiAgICAgICAgICAgIH0pLCAhVCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGwgPSBlID09PSBkb2N1bWVudC5ib2R5LFxyXG4gICAgICAgICAgICAgICAgICAgIHUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSArbmV3IERhdGUsIGEgPSAwLCBpID0gMCwgYyA9IDA7IGMgPCBNLmxlbmd0aDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IE1bY10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IHIgLSBzLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBkID49IHYuYW5pbWF0aW9uVGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoID0gZiA/IDEgOiBkIC8gdi5hbmltYXRpb25UaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5wdWxzZUFsZ29yaXRobSAmJiAoaCA9IHAoaCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBzLnggKiBoIC0gcy5sYXN0WCA+PiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBzLnkgKiBoIC0gcy5sYXN0WSA+PiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYSArPSBtLCBpICs9IHcsIHMubGFzdFggKz0gbSwgcy5sYXN0WSArPSB3LCBmICYmIChNLnNwbGljZShjLCAxKSwgYy0tKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPyB3aW5kb3cuc2Nyb2xsQnkoYSwgaSkgOiAoYSAmJiAoZS5zY3JvbGxMZWZ0ICs9IGEpLCBpICYmIChlLnNjcm9sbFRvcCArPSBpKSksIHQgfHwgbyB8fCAoTSA9IFtdKSwgTS5sZW5ndGggPyBFKHUsIGUsIG4gLyB2LmZyYW1lUmF0ZSArIDEpIDogVCA9ICExXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIEUodSwgZSwgMCksIFQgPSAhMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuKGUpIHtcclxuICAgICAgICAgICAgeCB8fCB0KCk7XHJcbiAgICAgICAgICAgIHZhciBuID0gZS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICByID0gbChuKTtcclxuICAgICAgICAgICAgaWYgKCFyIHx8IGUuZGVmYXVsdFByZXZlbnRlZCB8fCBzKHcsIFwiZW1iZWRcIikgfHwgcyhuLCBcImVtYmVkXCIpICYmIC9cXC5wZGYvaS50ZXN0KG4uc3JjKSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICB2YXIgYSA9IGUud2hlZWxEZWx0YVggfHwgMCxcclxuICAgICAgICAgICAgICAgIGkgPSBlLndoZWVsRGVsdGFZIHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBhIHx8IGkgfHwgKGkgPSBlLndoZWVsRGVsdGEgfHwgMCksICF2LnRvdWNocGFkU3VwcG9ydCAmJiBmKGkpID8gITAgOiAoTWF0aC5hYnMoYSkgPiAxLjIgJiYgKGEgKj0gdi5zdGVwU2l6ZSAvIDEyMCksIE1hdGguYWJzKGkpID4gMS4yICYmIChpICo9IHYuc3RlcFNpemUgLyAxMjApLCBvKHIsIC1hLCAtaSksIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcihlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gZS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICBuID0gZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5ICYmIGUua2V5Q29kZSAhPT0gSC5zcGFjZWJhcjtcclxuICAgICAgICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYXxzZWxlY3R8ZW1iZWQvaS50ZXN0KHQubm9kZU5hbWUpIHx8IHQuaXNDb250ZW50RWRpdGFibGUgfHwgZS5kZWZhdWx0UHJldmVudGVkIHx8IG4pIHJldHVybiAhMDtcclxuICAgICAgICAgICAgaWYgKHModCwgXCJidXR0b25cIikgJiYgZS5rZXlDb2RlID09PSBILnNwYWNlYmFyKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgIHZhciByLCBhID0gMCxcclxuICAgICAgICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgdSA9IGwodyksXHJcbiAgICAgICAgICAgICAgICBjID0gdS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodSA9PSBkb2N1bWVudC5ib2R5ICYmIChjID0gd2luZG93LmlubmVySGVpZ2h0KSwgZS5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEgudXA6XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IC12LmFycm93U2Nyb2xsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBILmRvd246XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IHYuYXJyb3dTY3JvbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEguc3BhY2ViYXI6XHJcbiAgICAgICAgICAgICAgICAgICAgciA9IGUuc2hpZnRLZXkgPyAxIDogLTEsIGkgPSAtciAqIGMgKiAuOTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgSC5wYWdldXA6XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IC45ICogLWM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEgucGFnZWRvd246XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IC45ICogYztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgSC5ob21lOlxyXG4gICAgICAgICAgICAgICAgICAgIGkgPSAtdS5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEguZW5kOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gdS5zY3JvbGxIZWlnaHQgLSB1LnNjcm9sbFRvcCAtIGM7XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IGQgPiAwID8gZCArIDEwIDogMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgSC5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgIGEgPSAtdi5hcnJvd1Njcm9sbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgSC5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgICBhID0gdi5hcnJvd1Njcm9sbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbyh1LCBhLCBpKSwgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhKGUpIHtcclxuICAgICAgICAgICAgdyA9IGUudGFyZ2V0XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpKGUsIHQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgbyA9IGUubGVuZ3RoOyBvLS07KSB6W04oZVtvXSldID0gdDtcclxuICAgICAgICAgICAgcmV0dXJuIHRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGwoZSkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IFtdLFxyXG4gICAgICAgICAgICAgICAgbyA9IFMuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHpbTihlKV07XHJcbiAgICAgICAgICAgICAgICBpZiAobikgcmV0dXJuIGkodCwgbik7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5wdXNoKGUpLCBvID09PSBlLnNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgheSB8fCBTLmNsaWVudEhlaWdodCArIDcwIDwgbykgcmV0dXJuIGkodCwgZG9jdW1lbnQuYm9keSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSB3aGlsZSAoZSA9IGUucGFyZW50Tm9kZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHUoZSwgdCwgbykge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlLCB0LCBvIHx8ICExKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYyhlLCB0LCBvKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGUsIHQsIG8gfHwgITEpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzKGUsIHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgPT09IHQudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZChlLCB0KSB7XHJcbiAgICAgICAgICAgIGUgPSBlID4gMCA/IDEgOiAtMSwgdCA9IHQgPiAwID8gMSA6IC0xLCAoay54ICE9PSBlIHx8IGsueSAhPT0gdCkgJiYgKGsueCA9IGUsIGsueSA9IHQsIE0gPSBbXSwgQyA9IDApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUpIHtcclxuICAgICAgICAgICAgICAgIGUgPSBNYXRoLmFicyhlKSwgRC5wdXNoKGUpLCBELnNoaWZ0KCksIGNsZWFyVGltZW91dChBKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gRFswXSA9PSBEWzFdICYmIERbMV0gPT0gRFsyXSxcclxuICAgICAgICAgICAgICAgICAgICBvID0gaChEWzBdLCAxMjApICYmIGgoRFsxXSwgMTIwKSAmJiBoKERbMl0sIDEyMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISh0IHx8IG8pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGgoZSwgdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihlIC8gdCkgPT0gZSAvIHRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG0oZSkge1xyXG4gICAgICAgICAgICB2YXIgdCwgbywgbjtcclxuICAgICAgICAgICAgcmV0dXJuIGUgKj0gdi5wdWxzZVNjYWxlLCAxID4gZSA/IHQgPSBlIC0gKDEgLSBNYXRoLmV4cCgtZSkpIDogKG8gPSBNYXRoLmV4cCgtMSksIGUgLT0gMSwgbiA9IDEgLSBNYXRoLmV4cCgtZSksIHQgPSBvICsgbiAqICgxIC0gbykpLCB0ICogdi5wdWxzZU5vcm1hbGl6ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlID49IDEgPyAxIDogMCA+PSBlID8gMCA6ICgxID09IHYucHVsc2VOb3JtYWxpemUgJiYgKHYucHVsc2VOb3JtYWxpemUgLz0gbSgxKSksIG0oZSkpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIC8vIFRoZXNlIGFyZSB0aGUgZGVmYXVsdHMuXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNjAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvblRpbWU6IDEwMDAsXHJcbiAgICAgICAgICAgIHN0ZXBTaXplOiAxMjAsXHJcbiAgICAgICAgICAgIHB1bHNlQWxnb3JpdGhtOiAhMCxcclxuICAgICAgICAgICAgcHVsc2VTY2FsZTogOCxcclxuICAgICAgICAgICAgcHVsc2VOb3JtYWxpemU6IDEsXHJcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbkRlbHRhOiAyMCxcclxuICAgICAgICAgICAgYWNjZWxlcmF0aW9uTWF4OiAxLFxyXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6ICEwLFxyXG4gICAgICAgICAgICBhcnJvd1Njcm9sbDogNTAsXHJcbiAgICAgICAgICAgIHRvdWNocGFkU3VwcG9ydDogITAsXHJcbiAgICAgICAgICAgIGZpeGVkQmFja2dyb3VuZDogITBcclxuICAgICAgICB9LCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdmFyIHcsIGcgPSB7XHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogc2V0dGluZ3MuZnJhbWVSYXRlLFxyXG4gICAgICAgICAgICBhbmltYXRpb25UaW1lOiBzZXR0aW5ncy5hbmltYXRpb25UaW1lLFxyXG4gICAgICAgICAgICBzdGVwU2l6ZTogc2V0dGluZ3Muc3RlcFNpemUsXHJcbiAgICAgICAgICAgIHB1bHNlQWxnb3JpdGhtOiBzZXR0aW5ncy5wdWxzZUFsZ29yaXRobSxcclxuICAgICAgICAgICAgcHVsc2VTY2FsZTogc2V0dGluZ3MucHVsc2VTY2FsZSxcclxuICAgICAgICAgICAgcHVsc2VOb3JtYWxpemU6IHNldHRpbmdzLnB1bHNlTm9ybWFsaXplLFxyXG4gICAgICAgICAgICBhY2NlbGVyYXRpb25EZWx0YTogc2V0dGluZ3MuYWNjZWxlcmF0aW9uRGVsdGEsXHJcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbk1heDogc2V0dGluZ3MuYWNjZWxlcmF0aW9uTWF4LFxyXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHNldHRpbmdzLmtleWJvYXJkU3VwcG9ydCxcclxuICAgICAgICAgICAgYXJyb3dTY3JvbGw6IHNldHRpbmdzLmFycm93U2Nyb2xsLFxyXG4gICAgICAgICAgICB0b3VjaHBhZFN1cHBvcnQ6IHNldHRpbmdzLnRvdWNocGFkU3VwcG9ydCxcclxuICAgICAgICAgICAgZml4ZWRCYWNrZ3JvdW5kOiBzZXR0aW5ncy5maXhlZEJhY2tncm91bmQsXHJcbiAgICAgICAgICAgIGV4Y2x1ZGVkOiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICAgICAgdiA9IGcsXHJcbiAgICAgICAgICAgIGIgPSAhMSxcclxuICAgICAgICAgICAgeSA9ICExLFxyXG4gICAgICAgICAgICBrID0ge1xyXG4gICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgIHk6IDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeCA9ICExLFxyXG4gICAgICAgICAgICBTID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxyXG4gICAgICAgICAgICBEID0gWzEyMCwgMTIwLCAxMjBdLFxyXG4gICAgICAgICAgICBIID0ge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMzcsXHJcbiAgICAgICAgICAgICAgICB1cDogMzgsXHJcbiAgICAgICAgICAgICAgICByaWdodDogMzksXHJcbiAgICAgICAgICAgICAgICBkb3duOiA0MCxcclxuICAgICAgICAgICAgICAgIHNwYWNlYmFyOiAzMixcclxuICAgICAgICAgICAgICAgIHBhZ2V1cDogMzMsXHJcbiAgICAgICAgICAgICAgICBwYWdlZG93bjogMzQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IDM1LFxyXG4gICAgICAgICAgICAgICAgaG9tZTogMzZcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdiA9IGcsXHJcbiAgICAgICAgICAgIE0gPSBbXSxcclxuICAgICAgICAgICAgVCA9ICExLFxyXG4gICAgICAgICAgICBDID0gK25ldyBEYXRlLFxyXG4gICAgICAgICAgICB6ID0ge307XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB6ID0ge31cclxuICAgICAgICB9LCAxZTQpO1xyXG4gICAgICAgIHZhciBBLCBOID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQudW5pcXVlSUQgfHwgKHQudW5pcXVlSUQgPSBlKyspXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KCksXHJcbiAgICAgICAgICAgIEUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChlLCB0LCBvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZSwgbyB8fCAxZTMgLyA2MClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSgpLFxyXG4gICAgICAgICAgICBLID0gL2Nocm9tZXxpUGFkL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCksXHJcbiAgICAgICAgICAgIEwgPSBcIm9ubW91c2V3aGVlbFwiIGluIGRvY3VtZW50O1xyXG4gICAgICAgIEwgJiYgSyAmJiAodShcIm1vdXNlZG93blwiLCBhKSwgdShcIm1vdXNld2hlZWxcIiwgbiksIHUoXCJsb2FkXCIsIHQpKVxyXG4gICAgfSgpO1xyXG59XHJcbiQoXCJodG1sXCIpLmVhc2VTY3JvbGwoKTsiXX0=
